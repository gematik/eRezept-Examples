{
  "resourceType": "StructureDefinition",
  "id": "KBV-PR-ERP-Bundle",
  "url": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle",
  "version": "1.1.0",
  "name": "KBV_PR_ERP_Bundle",
  "status": "active",
  "date": "2022-09-30",
  "publisher": "Kassenärztliche Bundesvereinigung",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Bundle",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Bundle",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Bundle",
        "path": "Bundle",
        "constraint": [
          {
            "key": "-erp-angabePruefnummer",
            "severity": "error",
            "human": "In der Ressource vom Typ Composition ist keine Prüfnummer vorhanden, diese ist aber eine Pflichtangabe bei den Kostentraegern der Typen \"GKV\", \"BG\", \"SKT\" oder \"UK\".",
            "expression": "(entry.where(resource is Composition).exists() and entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='GKV' or entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='SKT' or entry.where(resource is Coverage).resource.type.coding.code='UK')) implies entry.where(resource is Composition).resource.author.identifier.where(system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Pruefnummer').exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabePatientPLZ",
            "severity": "error",
            "human": "In der Ressource vom Typ Patient ist keine Postleitzahl vorhanden, diese ist aber eine Pflichtangabe bei den Kostentraegern der Typen Typ \"GKV\", \"PKV\", \"BG\", \"SKT\" oder \"UK\".",
            "expression": "(entry.where(resource is Patient).exists() and entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='GKV' or entry.where(resource is Coverage).resource.type.coding.code='PKV' or entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='SKT' or entry.where(resource is Coverage).resource.type.coding.code='UK')) implies entry.where(resource is Patient).resource.address.postalCode.exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeRechtsgrundlage",
            "severity": "error",
            "human": "In der Ressource vom Typ Composition ist keine Rechtsgrundlage vorhanden, diese ist aber eine Pflichtangabe bei den Kostentraegern der Typen \"GKV\", \"PKV\", \"BG\", \"SKT\" oder \"UK\" ein Pflichtelement.",
            "expression": "(entry.where(resource is MedicationRequest).exists() and entry.where(resource is Composition).exists() and entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='GKV' or entry.where(resource is Coverage).resource.type.coding.code='PKV'or entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='SKT' or entry.where(resource is Coverage).resource.type.coding.code='UK')) implies entry.where(resource is Composition).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Legal_basis').exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeZuzahlungsstatus",
            "severity": "error",
            "human": "In der Ressource vom Typ Coverage ist kein Zuzahlungsstatus vorhanden, dieser ist aber eine Pflichtangabe bei den Kostentraegern der Typen \"GKV\" \"SKT\", \"BG\" oder \"UK\"",
            "expression": "(entry.where(resource is MedicationRequest).exists() and entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='GKV' or entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='SKT' or entry.where(resource is Coverage).resource.type.coding.code='UK')) implies entry.where(resource is MedicationRequest).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_StatusCoPayment').exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeIdentifikatorAusstellendePerson",
            "severity": "error",
            "human": "In der Ressource vom Typ Practitioner ist der Identifikator der ausstellenden oder verschreibenden Person nicht vorhanden, dieser ist aber eine Pflichtangabe bei den Kostentraegern der Typen \"GKV\", \"BG\", \"SKT\", \"UK\" oder \"PKV\", wenn es sich um einen Arzt, Zahnarzt oder Arzt als Vertreter handelt und keine ASV-Fachgruppennummer angegeben ist.",
            "expression": "entry.where(resource is Practitioner).exists() and entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='GKV' or entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='SKT' or entry.where(resource is Coverage).resource.type.coding.code='UK' or entry.where(resource is Coverage).resource.type.coding.code='PKV') and entry.where(resource is Composition).resource.author.reference.exists() implies ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.author.reference implies (entry.where(resource is Practitioner).resource[0].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='01' or $this.code='04') implies entry.where(resource is Practitioner).resource[0].identifier.exists() or entry.where(resource is Practitioner).resource[0].qualification.code.coding.where(system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').code.exists())) and ((entry.where(resource is Practitioner)[1].exists() and 'Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.author.reference) implies (entry.where(resource is Practitioner).resource[1].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='01' or $this.code='04') implies entry.where(resource is Practitioner).resource[1].identifier.exists() or entry.where(resource is Practitioner).resource[1].qualification.code.coding.where(system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').code.exists()))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeVerantwortlichePersonVerbot-1",
            "severity": "error",
            "human": "Eine Ressource vom Typ Practitioner wird als verantwortliche Person angegeben, diese darf aber nur angegeben werden, wenn es sich bei der ausstellenden Person um einen Arzt in Weiterbildung oder Arzt als Vertreter handelt.",
            "expression": "entry.where(resource is Composition).resource.attester.party.reference.exists() implies ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.attester.party.reference implies entry.where(resource is Practitioner).resource[1].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='03' or $this.code='04')) and ('Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.attester.party.reference implies entry.where(resource is Practitioner).resource[0].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='03' or $this.code='04'))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeVerantwortlichePersonVerbot-2",
            "severity": "error",
            "human": "Eine Ressource vom Typ Practitioner wird als verantwortliche Person angegeben, diese darf aber nur angegeben werden, wenn es sich nicht um eine Hebamme oder einen Arzt in Weiterbildung handelt.",
            "expression": "entry.where(resource is Composition).resource.attester.party.reference.exists() implies ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.attester.party.reference implies entry.where(resource is Practitioner).resource[0].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code!='02' and $this.code!='03')) and ('Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.attester.party.reference implies entry.where(resource is Practitioner).resource[1].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code!='02' and $this.code!='03'))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeIdentifikatorVerantwortlichePerson",
            "severity": "error",
            "human": "In der Ressource vom Typ Practitioner ist der Identifikator der verantwortlichen Person nicht vorhanden, dieser ist aber eine Pflichtangabe bei den Kostentraegern der Typen \"GKV\", \"BG\", \"SKT\" oder \"UK\", wenn es sich um einen Arzt, Zahnarzt oder Arzt als Vertreter handelt und keine ASV-Fachgruppennummer angegeben ist.",
            "expression": "entry.where(resource is Practitioner).exists() and entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='GKV' or entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='SKT' or entry.where(resource is Coverage).resource.type.coding.code='UK') and entry.where(resource is Composition).resource.attester.party.reference.exists() implies ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.attester.party.reference implies (entry.where(resource is Practitioner).resource[0].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='01' or $this.code='04') implies entry.where(resource is Practitioner).resource[0].identifier.exists() or entry.where(resource is Practitioner).resource[0].qualification.code.coding.where(system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').code.exists())) and ((entry.where(resource is Practitioner)[1].exists() and 'Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.attester.party.reference) implies (entry.where(resource is Practitioner).resource[1].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='01' or $this.code='04') implies entry.where(resource is Practitioner).resource[1].identifier.exists() or entry.where(resource is Practitioner).resource[1].qualification.code.coding.where(system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').code.exists()))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeFachgruppennummerAsvAusstellendePersonVerbot",
            "severity": "error",
            "human": "In einer Ressource vom Typ Practitioner ist eine ASV-Fachgruppennummer der ausstellenden Person vorhanden, diese darf aber nur angegeben werden, wenn die Rechtsgrundlage den Wert \"01\" oder \"11\" besitzt und wenn es sich um einen Arzt oder Arzt als Vertreter handelt, für den kein Identifikator angegeben ist.",
            "expression": "('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.author.reference and entry.where(resource is Practitioner)[0].resource.qualification.where(code.coding.system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').exists() or 'Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.author.reference and entry.where(resource is Practitioner)[1].resource.qualification.where(code.coding.system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').exists()) and entry.where(resource is Composition).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Legal_basis').exists() implies entry.where(resource is Composition).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Legal_basis').all(($this.value as Coding).code='01' or ($this.value as Coding).code='11') and ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.author.reference implies (entry.where(resource is Practitioner)[0].resource.qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='04') and entry.where(resource is Practitioner)[0].resource.identifier.exists().not())) and ('Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.author.reference implies (entry.where(resource is Practitioner)[1].resource.qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='04') and entry.where(resource is Practitioner)[1].resource.identifier.exists().not()))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeFachgruppennummerAsvVerantwortlichePersonVerbot",
            "severity": "error",
            "human": "In einer Ressource vom Typ Practitioner ist eine ASV-Fachgruppennummer der verantwortlichen Person vorhanden, diese darf aber nur angegeben werden, wenn die Rechtsgrundlage den Wert \"01\" oder \"11\" besitzt und wenn es sich um einen Arzt oder Arzt als Vertreter handelt, für den kein Identifikator angegeben ist.",
            "expression": "entry.where(resource is Composition).resource.attester.party.reference.exists() and ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.attester.reference and entry.where(resource is Practitioner)[0].resource.qualification.where(code.coding.system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').exists() or 'Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.attester.reference and entry.where(resource is Practitioner)[1].resource.qualification.where(code.coding.system='https://fhir.kbv.de/NamingSystem/KBV_NS_FOR_Fachgruppennummer_ASV').exists()) and entry.where(resource is Composition).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Legal_basis').exists() implies entry.where(resource is Composition).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Legal_basis').all(($this.value as Coding).code='01' or ($this.value as Coding).code='11') and ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.attester.reference implies (entry.where(resource is Practitioner)[0].resource.qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='04') and entry.where(resource is Practitioner)[0].resource.identifier.exists().not())) and ('Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.attester.reference implies (entry.where(resource is Practitioner)[1].resource.qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='04') and entry.where(resource is Practitioner)[1].resource.identifier.exists().not()))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-referenzAufAusstellendePerson",
            "severity": "error",
            "human": "In der Ressource vom Typ MedicationRequest oder SupplyRequest zeigt die Referenz nicht auf die Ressource vom Typ Practitioner fuer die ausstellende/verschreibende Person.",
            "expression": "entry.where(resource is Composition).resource.author.reference = entry.where(resource is MedicationRequest).resource.requester.reference or entry.where(resource is Composition).resource.author.reference = entry.where(resource is SupplyRequest).resource.requester.reference",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeIdentifikatorEinrichtung",
            "severity": "error",
            "human": "In einer Ressource vom Typ Organization ist kein Identifikator der Einrichtung (z.B. Betriebsstaettennummer) vorhanden, diese ist aber eine Pflichtangabe bei den Kostentraegern der Typen \"GKV\", \"PKV\", \"BG\", \"SKT\" oder \"UK\", wenn es sich bei der austellenden/verschreibenden Person um einen Arzt, Zahnarzt, Arzt in Weiterbildung oder Arzt als Vertreter handelt.",
            "expression": "entry.where(resource is Organization).exists() and entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='GKV' or entry.where(resource is Coverage).resource.type.coding.code='PKV' or entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='SKT' or entry.where(resource is Coverage).resource.type.coding.code='UK') and entry.where(resource is Composition).resource.author.reference.exists() implies ('Practitioner/'+entry.where(resource is Practitioner)[0].resource.id=entry.where(resource is Composition).resource.author.reference implies (entry.where(resource is Practitioner).resource[0].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='01' or $this.code='03' or $this.code='04') implies entry.where(resource is Organization).resource.identifier.exists())) and ('Practitioner/'+entry.where(resource is Practitioner)[1].resource.id=entry.where(resource is Composition).resource.author.reference implies (entry.where(resource is Practitioner).resource[1].qualification.code.coding.where(system='https://fhir.kbv.de/CodeSystem/KBV_CS_FOR_Qualification_Type').all($this.code='00' or $this.code='01' or $this.code='03' or $this.code='04') implies entry.where(resource is Organization).resource.identifier.exists()))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeSubstitutionPZN",
            "severity": "error",
            "human": "Kennzeichen Autidem (substitution.allowedBoolean) nicht vorhanden, aber bei einer PZN-Verordnung Pflicht",
            "expression": "entry.where(resource is MedicationRequest).exists() and entry.where(resource is Medication).resource.code.coding.system ='http://fhir.de/CodeSystem/ifa/pzn' implies entry.where(resource is MedicationRequest).resource.substitution.exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeSubstitutionIngredient",
            "severity": "error",
            "human": "Kennzeichen Autidem (substitution.allowedBoolean) vorhanden, aber bei einer Wirkstoff-Verordnung nicht erlaubt",
            "expression": "entry.where(resource is MedicationRequest).exists() and entry.where(resource is Medication).resource.code.coding.code ='wirkstoff' implies entry.where(resource is MedicationRequest).resource.substitution.exists().not()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeSubstitutionCompounding",
            "severity": "error",
            "human": "Kennzeichen Autidem (substitution.allowedBoolean) nicht vorhanden, aber bei einer Rezeptur-Verordnung Pflicht",
            "expression": "entry.where(resource is MedicationRequest).exists() and entry.where(resource is Medication).resource.code.coding.code ='rezeptur' implies entry.where(resource is MedicationRequest).resource.substitution.exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeSubstitutionFreetext",
            "severity": "error",
            "human": "Kennzeichen Autidem (substitution.allowedBoolean) nicht vorhanden, aber bei einer Freitext-Verordnung Pflicht",
            "expression": "entry.where(resource is MedicationRequest).exists() and entry.where(resource is Medication).resource.code.coding.code ='freitext' implies entry.where(resource is MedicationRequest).resource.substitution.exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeIKKostentraeger",
            "severity": "error",
            "human": "In der Ressource vom Typ Coverage ist kein IK des Kostenträgers vorhanden, dies ist aber eine Pflichtangabe bei Kostenträgern vom Typ \"BG\" oder \"UK\",",
            "expression": "(entry.where(resource is Coverage).exists() and (entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='UK')) implies  entry.select(resource as Coverage).payor.identifier.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Alternative_IK').exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabePatientIdentifikator",
            "severity": "error",
            "human": "Wenn eine Ressource vom Typ Patient existiert, muss ein Identifikator des Versicherten angegeben werden.",
            "expression": "entry.where(resource is Patient).exists() implies entry.where(resource is Patient).resource.identifier.exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeVersichertenIDbeiGKV",
            "severity": "error",
            "human": "In der Ressource vom Typ Patient ist keine GKV-VersichertenID vorhanden, diese ist aber eine Pflichtangabe beim Kostentraeger des Typs \"GKV\", falls ein Identifikator des Patienten angegeben ist.",
            "expression": "entry.where(resource is Coverage).exists() and entry.where(resource is Coverage).resource.type.coding.code='GKV' and entry.where(resource is Patient).resource.identifier.exists() implies entry.where(resource is Patient).resource.identifier.type.coding.code='GKV'",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeVersichertenIDbeiPKV",
            "severity": "error",
            "human": "In der Ressource vom Typ Patient ist keine PKV-VersichertenID vorhanden, diese ist aber eine Pflichtangabe beim Kostentraeger des Typs \"PKV\", falls ein Identifikator des Patienten angegeben ist.",
            "expression": "entry.where(resource is Coverage).exists() and entry.where(resource is Coverage).resource.type.coding.code='PKV' and entry.where(resource is Patient).resource.identifier.exists() implies entry.where(resource is Patient).resource.identifier.type.coding.code='PKV'",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeVersichertennummerBeiKVK",
            "severity": "error",
            "human": "In der Ressource vom Typ Patient ist keine KVK-Versichertennummer vorhanden, diese ist aber eine Pflichtangabe beim Kostentraeger des Typs \"SKT\", falls ein Identifikator des Patienten angegeben ist.",
            "expression": "entry.where(resource is Coverage).exists() and entry.where(resource is Coverage).resource.type.coding.code='SKT' and entry.where(resource is Patient).resource.identifier.exists() implies entry.where(resource is Patient).resource.identifier.type.coding.code='kvk'",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabePKVTarifVerbot",
            "severity": "error",
            "human": "In der Ressource vom Typ Composition ist ein PKV-Tarif angegeben, dies darf aber nur bei einem Kostentraeger vom Typ \"PKV\" erfolgen.",
            "expression": "entry.where(resource is Coverage).exists() and entry.where(resource is Coverage).resource.type.coding.code!='PKV' implies entry.where(resource is Composition).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_PKV_Tariff').exists().not()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeUnfallkennzeichenArbeitsunfallBerufskrankheitVerbot",
            "severity": "error",
            "human": "In der Ressource vom Typ MedicationRequest ist das Unfallkennzeichen für einen Arbeitsunfall oder Berufskrankheit angegeben, dies darf aber nur bei einem Kostentraeger vom Typ \"BG\" oder \"UK\" erfolgen.",
            "expression": "entry.where(resource is MedicationRequest).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Accident').exists().not() or (((entry.where(resource is MedicationRequest).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Accident').extension('Unfallkennzeichen').value as Coding).code='2' or(entry.where(resource is MedicationRequest).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Accident').extension('Unfallkennzeichen').value as Coding).code='4') implies (entry.where(resource is Coverage).resource.type.coding.code='BG' or entry.where(resource is Coverage).resource.type.coding.code='UK'))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeUnfallkennzeichenUnfallVerbot",
            "severity": "error",
            "human": "In der Ressource vom Typ MedicationRequest ist das Unfallkennzeichen für einen sonstigen Unfall angegeben, dies darf aber nicht bei einem Kostentraeger vom Typ \"BG\" oder \"UK\" erfolgen.",
            "expression": "entry.where(resource is MedicationRequest).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Accident').exists().not() or ((entry.where(resource is MedicationRequest).resource.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_FOR_Accident').extension('Unfallkennzeichen').value as Coding).code='1' implies (entry.where(resource is Coverage).resource.type.coding.code!='BG' and entry.where(resource is Coverage).resource.type.coding.code!='UK'))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeDosierungRezepturVerbot",
            "severity": "error",
            "human": "Bei einer Rezepturverordnung dürfen Dosierkennzeichen und Dosieranweisung nicht angegeben werden.",
            "expression": "entry.where(resource is MedicationRequest).exists().not() or (entry.where(resource is Medication).resource.code.coding.code='rezeptur' implies (entry.where(resource is MedicationRequest).resource.dosageInstruction.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_ERP_DosageFlag').exists().not() and entry.where(resource is MedicationRequest).resource.dosageInstruction.text.exists().not()))",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeDosierkennzeichenPflicht",
            "severity": "error",
            "human": "Bei einer PZN-Verordnung, Freitextverordnung oder Wirkstoffverordnung muss das Dosierkennzeichen angegeben werden, wenn kein Sprechstundenbedarf verordnet wird und eine Dosierung angegeben werden soll.",
            "expression": "entry.where(resource is MedicationRequest).exists().not() or entry.where(resource is MedicationRequest).resource.dosageInstruction.exists().not() or (entry.where(resource is Medication).resource.code.coding.code!='rezeptur' implies entry.where(resource is MedicationRequest).resource.dosageInstruction.extension('https://fhir.kbv.de/StructureDefinition/KBV_EX_ERP_DosageFlag').exists())",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeGebrauchsanweisungRezeptur",
            "severity": "error",
            "human": "Die Gebrauchsanweisung (dosageInstruction.patientInstruction) fehlt, muss bei einer Rezepturverordnung aber angegeben werden.",
            "expression": "entry.where(resource is MedicationRequest).exists() and entry.where(resource is Medication).resource.code.coding.code ='rezeptur' implies entry.where(resource is MedicationRequest).resource.dosageInstruction.patientInstruction.exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-angabeGebrauchsanweisungVerbot",
            "severity": "error",
            "human": "Eine Gebrauchsanweisung (dosageInstruction.patientInstruction) darf nur angegeben werden, wenn es sich um eine Rezepturverordnung handelt.",
            "expression": "entry.where(resource is MedicationRequest).exists() and entry.where(resource is Medication).resource.code.coding.code !='rezeptur' implies entry.where(resource is MedicationRequest).resource.dosageInstruction.patientInstruction.exists().not()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-entwederPrescriptionOderPracticeSupply",
            "severity": "error",
            "human": "Es ist sowohl eine Ressouce vom Typ MedicationRequest als auch vom Typ SupplyRequest vorhanden, es ist aber nur eine von beiden zulässig.",
            "expression": "entry.where(resource is MedicationRequest).exists() xor entry.where(resource is SupplyRequest).exists()",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          },
          {
            "key": "-erp-anzahlMedication",
            "severity": "error",
            "human": "Es muss genau eine Ressource vom Typ Medication vorhanden sein.",
            "expression": "entry.where(resource is Medication).count()=1",
            "source": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle"
          }
        ]
      },
      {
        "id": "Bundle.id",
        "path": "Bundle.id",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.meta",
        "path": "Bundle.meta",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.meta.versionId",
        "path": "Bundle.meta.versionId",
        "max": "0"
      },
      {
        "id": "Bundle.meta.lastUpdated",
        "path": "Bundle.meta.lastUpdated",
        "mustSupport": true
      },
      {
        "id": "Bundle.meta.source",
        "path": "Bundle.meta.source",
        "max": "0"
      },
      {
        "id": "Bundle.meta.profile",
        "path": "Bundle.meta.profile",
        "min": 1,
        "max": "1",
        "fixedCanonical": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle|1.1.0",
        "mustSupport": true
      },
      {
        "id": "Bundle.meta.security",
        "path": "Bundle.meta.security",
        "max": "0"
      },
      {
        "id": "Bundle.meta.tag",
        "path": "Bundle.meta.tag",
        "max": "0"
      },
      {
        "id": "Bundle.implicitRules",
        "path": "Bundle.implicitRules",
        "max": "0"
      },
      {
        "id": "Bundle.language",
        "path": "Bundle.language",
        "max": "0"
      },
      {
        "id": "Bundle.identifier",
        "path": "Bundle.identifier",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.identifier.use",
        "path": "Bundle.identifier.use",
        "max": "0"
      },
      {
        "id": "Bundle.identifier.type",
        "path": "Bundle.identifier.type",
        "max": "0"
      },
      {
        "id": "Bundle.identifier.system",
        "path": "Bundle.identifier.system",
        "definition": "Für den digitalen Vordruck \"Elektronische Arzneimittelverordnung (Vordruck e160)\" wird die Dokumenten-ID gemäß den Vorgaben der gematik gesetzt.",
        "min": 1,
        "fixedUri": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId",
        "mustSupport": true
      },
      {
        "id": "Bundle.identifier.value",
        "path": "Bundle.identifier.value",
        "short": "Dokumenten-ID",
        "definition": "Eindeutige Identifikation des Dokuments, bzw. der Verordnung. Diese ID wird mit signiert und sichert damit die Verordnung vor Fälschungen.\r\n\r\nFür den digitalen Vordruck \"Elektronische Arzneimittelverordnung (Vordruck e160)\" wird die Dokumenten-ID gemäß den Vorgaben der gematik gesetzt.",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.identifier.period",
        "path": "Bundle.identifier.period",
        "max": "0"
      },
      {
        "id": "Bundle.identifier.assigner",
        "path": "Bundle.identifier.assigner",
        "max": "0"
      },
      {
        "id": "Bundle.type",
        "path": "Bundle.type",
        "fixedCode": "document",
        "mustSupport": true
      },
      {
        "id": "Bundle.timestamp",
        "path": "Bundle.timestamp",
        "definition": "DateTime wann das Dokument technisch erstellt wurde. \r\nFachlich bildet das Ausstellungsdatum das entscheidende Datum ab.",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.total",
        "path": "Bundle.total",
        "max": "0"
      },
      {
        "id": "Bundle.link",
        "path": "Bundle.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry",
        "path": "Bundle.entry",
        "slicing": {
          "discriminator": [
            {
              "type": "profile",
              "path": "resource"
            }
          ],
          "rules": "closed"
        },
        "min": 5,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Dokumenteninformation",
        "path": "Bundle.entry",
        "sliceName": "Dokumenteninformation",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Dokumenteninformation.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Dokumenteninformation.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Dokumenteninformation.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Composition|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Dokumenteninformation.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Dokumenteninformation.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Dokumenteninformation.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Krankenversicherungsverhaeltnis",
        "path": "Bundle.entry",
        "sliceName": "Krankenversicherungsverhaeltnis",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Krankenversicherungsverhaeltnis.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Krankenversicherungsverhaeltnis.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Krankenversicherungsverhaeltnis.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_Coverage|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Krankenversicherungsverhaeltnis.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Krankenversicherungsverhaeltnis.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Krankenversicherungsverhaeltnis.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Patient",
        "path": "Bundle.entry",
        "sliceName": "Patient",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Patient.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Patient.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Patient.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_Patient|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Patient.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Patient.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Patient.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Einrichtung",
        "path": "Bundle.entry",
        "sliceName": "Einrichtung",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Einrichtung.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Einrichtung.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Einrichtung.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_Organization|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:Einrichtung.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Einrichtung.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:Einrichtung.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:AusstellendeVerschreibendeVerantwortlichePerson",
        "path": "Bundle.entry",
        "sliceName": "AusstellendeVerschreibendeVerantwortlichePerson",
        "min": 1,
        "max": "2",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:AusstellendeVerschreibendeVerantwortlichePerson.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:AusstellendeVerschreibendeVerantwortlichePerson.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:AusstellendeVerschreibendeVerantwortlichePerson.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_Practitioner|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:AusstellendeVerschreibendeVerantwortlichePerson.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:AusstellendeVerschreibendeVerantwortlichePerson.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:AusstellendeVerschreibendeVerantwortlichePerson.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:ASV-Ausuebung",
        "path": "Bundle.entry",
        "sliceName": "ASV-Ausuebung",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:ASV-Ausuebung.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:ASV-Ausuebung.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:ASV-Ausuebung.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_PractitionerRole|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:ASV-Ausuebung.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:ASV-Ausuebung.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:ASV-Ausuebung.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungArzneimittel",
        "path": "Bundle.entry",
        "sliceName": "VerordnungArzneimittel",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:VerordnungArzneimittel.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungArzneimittel.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:VerordnungArzneimittel.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Prescription|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:VerordnungArzneimittel.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungArzneimittel.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungArzneimittel.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungSprechstundenbedarf",
        "path": "Bundle.entry",
        "sliceName": "VerordnungSprechstundenbedarf",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:VerordnungSprechstundenbedarf.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungSprechstundenbedarf.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:VerordnungSprechstundenbedarf.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_PracticeSupply|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:VerordnungSprechstundenbedarf.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungSprechstundenbedarf.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:VerordnungSprechstundenbedarf.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenPZNVerordnung",
        "path": "Bundle.entry",
        "sliceName": "RezeptierdatenPZNVerordnung",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenPZNVerordnung.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenPZNVerordnung.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenPZNVerordnung.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Medication_PZN|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenPZNVerordnung.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenPZNVerordnung.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenPZNVerordnung.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenWirkstoffverordnung",
        "path": "Bundle.entry",
        "sliceName": "RezeptierdatenWirkstoffverordnung",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenWirkstoffverordnung.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenWirkstoffverordnung.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenWirkstoffverordnung.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Medication_Ingredient|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenWirkstoffverordnung.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenWirkstoffverordnung.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenWirkstoffverordnung.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenRezepturverordnung",
        "path": "Bundle.entry",
        "sliceName": "RezeptierdatenRezepturverordnung",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenRezepturverordnung.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenRezepturverordnung.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenRezepturverordnung.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Medication_Compounding|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenRezepturverordnung.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenRezepturverordnung.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenRezepturverordnung.response",
        "path": "Bundle.entry.response",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenFreitextverordnung",
        "path": "Bundle.entry",
        "sliceName": "RezeptierdatenFreitextverordnung",
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenFreitextverordnung.link",
        "path": "Bundle.entry.link",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenFreitextverordnung.fullUrl",
        "path": "Bundle.entry.fullUrl",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenFreitextverordnung.resource",
        "path": "Bundle.entry.resource",
        "min": 1,
        "type": [
          {
            "code": "Resource",
            "profile": [
              "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Medication_FreeText|1.1.0"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:RezeptierdatenFreitextverordnung.search",
        "path": "Bundle.entry.search",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenFreitextverordnung.request",
        "path": "Bundle.entry.request",
        "max": "0"
      },
      {
        "id": "Bundle.entry:RezeptierdatenFreitextverordnung.response",
        "path": "Bundle.entry.response",
        "max": "0"
      }
    ]
  }
}